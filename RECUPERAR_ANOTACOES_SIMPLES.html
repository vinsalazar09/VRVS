<!DOCTYPE html>
<html>
<head>
    <title>RECUPERAR ANOTA√á√ïES - SIMPLES</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        h1 { color: #ff6b6b; text-align: center; }
        .passo {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #4ecdc4;
        }
        .passo strong {
            color: #4ecdc4;
            font-size: 18px;
        }
        button {
            background: #4ecdc4;
            color: #1a1a1a;
            border: none;
            padding: 20px 40px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            margin: 20px 0;
        }
        button:hover {
            background: #45b8b0;
        }
        .teclas {
            background: #444;
            padding: 5px 10px;
            border-radius: 4px;
            font-family: monospace;
            display: inline-block;
            margin: 5px;
        }
        .aviso {
            background: #ff6b6b;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
        }
        .sucesso {
            background: #4ecdc4;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
            color: #1a1a1a;
        }
    </style>
</head>
<body>
    <h1>üö® RECUPERAR SUAS ANOTA√á√ïES</h1>
    
    <div class="aviso">
        ‚ö†Ô∏è IMPORTANTE: Abra o app VRVS em OUTRA ABA primeiro!
    </div>

    <div class="passo">
        <strong>PASSO 1:</strong> Abra o app VRVS em outra aba do navegador
        <br>V√° at√©: Desktop ‚Üí Teot ‚Üí docs ‚Üí index.html
    </div>

    <div class="passo">
        <strong>PASSO 2:</strong> Abra o Console no app VRVS
        <br><br>
        <strong>No Safari:</strong>
        <br>Pressione juntas: <span class="teclas">‚åò</span> + <span class="teclas">‚å•</span> + <span class="teclas">C</span>
        <br>OU: Safari ‚Üí Desenvolvedor ‚Üí Mostrar Console JavaScript
    </div>

    <div class="passo">
        <strong>PASSO 3:</strong> Clique no bot√£o abaixo para copiar o c√≥digo
    </div>

    <button onclick="copiarCodigo()">üìã COPIAR C√ìDIGO DE RECUPERA√á√ÉO</button>

    <div id="mensagem"></div>

    <div class="passo">
        <strong>PASSO 4:</strong> Volte para a aba do app VRVS
        <br>Cole o c√≥digo no Console (onde tem cursor piscando)
        <br>Pressione <span class="teclas">Enter</span>
    </div>

    <div class="passo">
        <strong>PASSO 5:</strong> Vai aparecer uma mensagem dizendo quantas anota√ß√µes foram recuperadas
        <br>Recarregue a p√°gina (<span class="teclas">‚åò</span> + <span class="teclas">R</span>)
        <br>V√° para a aba <strong>"Caderno"</strong>
    </div>

    <script>
        // C√ìDIGO COMPLETO EMBUTIDO AQUI - SEM PRECISAR DE ARQUIVO EXTERNO
        const codigoRecuperacao = `(function() {
    console.log('üö® RECUPERANDO ANOTA√á√ïES DO CSV...');
    
    const csv = \`id,temaId,area,tema,conteudo,ultimaAtualizacao,observacoes,sugestao
1762463481961,1762044621730,Trauma MMSS,Fratura de √ömero proximal,"HOT TOPICS üî• 
1) Epidemiologia 
2) Mecanismos de trauma e padr√µes da fratura
3) Classifica√ß√£o Neer e AO
4) Crit√©rios de Hertel",2025-11-22,,
1762821455592,1762813819589,Trauma Ped,Fratura de Condilos,"Hot Topics üî•

C√îNDILOS
1) Complica√ß√µes da fratura do c√¥ndilo lateral 

2) Classifica√ß√£o de Jakob e tratamento

LUXA√á√ÉO 
1) Fratura e les√£o mais associada na luxa√ß√£o do cotovelo

2) Desvios na luxa√ß√£o do cotovelo

EPIC√îNDILOS 
1) Epidemiologia",2025-11-21,,
1762954899298,1762906440957,Trauma Ped,Fraturas do antebra√ßo,Hiperprona√ß√£o = Monteggia ou Galeazzi,2025-11-18,,
1763402721978,1763402713142,Trauma MMII,Fratura de ossos da perna,"Hot topics üî• 

1) Les√µes associadas

2) Desvios aceit√°veis 

3) Complica√ß√µes e diferen√ßas de cada tipo de acesso: infra x supra patelar

4) Ponto de entrada da hastes e seus desvios 

 5) vantagens e desvantagens da HIM fresada.",2025-11-17,,
1763423352500,1763422448208,Oncologia,Introdu√ß√£o aos Tumores,"Tumores que apresentam c√©lulas gigantes 
(1) TGC
(2) Condroblastoma
(3) COA
(4) Osteossarcoma Telangect√°sico
(5) TU Paget
(6) TU Marrom

Tumores Radiossensiveis = TU Pequenas cels azuis
(2) Ewing
(3) Linfoma 
(4) Granuloma Eosinof√≠lico
(5) Mieloma 
(6) Carcinomas metast√°ticos",2025-11-18,,
1763503973804,1763501176586,Coluna,Espondilolistese,"Hot Topics üî• 
1) Classifica√ß√£o de Wiltze
2) Caracter√≠sticas de cada tipo
3) T√©cnica de Gill",2025-11-19,,
1763673272333,1763669330752,Ciencias Basicas,Osteomielite,"Na d√∫vida: Chuta Pseudomonas, marca tipo 4 de roberts(sarcoma de Ewing) ou tipo 5(Condroblastoma) üòÇ

HOT TOPICS üî• ü•µ
1) Correlacionar agentes etiol√≥gicos com o tipo de infec√ß√£o(forma de contamina√ß√£o ou perfil do paciente), ex: usu√°rio de drogas, anemia falciforme‚Ä¶

2) Correlacionar classifica√ß√£o de Gledhill-Roberts com Dx Diferenciais 

3) Diferen√ßas entre osteomielite de coluna e Discite

4) Espondilodiscite tem que saber epidemiologia e fisiopatologia",2025-12-02,,
1763849465874,1763845574661,Trauma Ped,Fraturas da T√≠bia,"HOT TOPICS üî•
T√çBIA PROXIMAL(met√°fise)
1) Epidemiologia
 ‚Ä¢ Idade = 3-6 anos
 ‚Ä¢ Mecanismo de trauma =  Trauma lateral com Joelho em EXT + Valgo

Fratura fis√°ria 
 ‚Ä¢ Fgmto TH posterior = trauma hiper flex√£o-> reduz em EXT
 ‚Ä¢ Fgmto TH anterior = trauma hiper extens√£o -> reduz em FL

FRATURA DA TAT
 1) Epidemiologia
 ‚Ä¢ Mais comum em meninos um pouco mais velhos(13-16 anos)
 ‚Ä¢ Mecanismo: contra√ß√£o brusca do quadr√≠ceps -> EXT for√ßada contra resist√™ncia(salto com impuls√£o violenta)

2) Correla√ß√£o entre as classifica√ß√µes de SH e Watson Jones
 ‚Ä¢ Fratura da TAT com envolvimento articular e les√£o do centro de ossifica√ß√£o prim√°rio = tipo 3 de Watson Jones

FRATURA DA ESPINHA
 1) Mecanismo de trauma: VALGO ou HIPER EXT + Rota√ß√£o LATERAL do joelho

2) Classifica√ß√£o de Meyrs e McKeever
 Tipo 1 -> conservador 
 Tipo 2 -> tend√™ncia a tto conservador 
 Tipo 3 -> tend√™ncia a tto cir√∫rgico 
 Tipo 4 -> cir√∫rgico 

COMPLICA√á√ïES  GERAIS 
(1) F√™mur distal = Valgo
(2) T√≠bia proximal = Valgo(Cozen)
   ‚Ä¢ melhora espontaneamente ap√≥s 4 anos da les√£o(tto conservador)
   ‚Ä¢ interposi√ß√£o da pata de ganso
(3) T√≠bia di√°fise = Varo
(4) Espinha da t√≠bia = Perda da extens√£o 
(5) TAT = Recurvato",2025-12-01,,
1763849465874,1763845611548,Trauma Ped,Fraturas do f√™mur,"HOT TOPICS üî• 
 ‚Ä¢ De uma maneira geral os n√∫meros s√£o altos:
  - joelho flutuante a incid√™ncia de fraturas expostas chega a 60%
  - incid√™ncia de fraturas diafisarias chega a 70 %

F√™mur Distal
1) Principal les√£o associada: LCA

F√™mur di√°fise 
1) Tratamento(tipos e indica√ß√µes)
2) Desvantagens da haste com entrada pela fossa do piriforme: (1) fise aberta, (2)risco de fratura do colo e osteonecrose

F√™mur Proximal
1) Classifica√ß√£o de DELBET e COLONNA: mais comum e mais grave",2025-11-30,,
1763999701838,1763941123114,Trauma Ped,fraturas da Bacia,"HOT TOPICS üî• 
1) Classifica√ß√£o de Torode e Zieg
  - fratura dos ramos p√∫bicos bilateral = tipo 4a
 - Anel p√©lvico Anterior √© 3A",2025-11-30,,
1764074226771,1764030788290,Joelho,Osteocondrite dissecante e Les√µes condrais,"HOT TOPICS üî• 
Osteocondrite dissecante 
1) Epidemiologia 
2) Localiza√ß√£o 
3) Osteocondrite da patela: progn√≥stico e localiza√ß√£o 

Les√µes condrais 
1) Tipos de tratamento",2025-11-25,,
1764118688167,1764075917874,Joelho,Menisco,"HOT TOPICS üî•

1) Les√£o em RAMPA
 ‚Ä¢ Impacto posteromedial na t√≠bia e no f√™mur.
 ‚Ä¢ Mais comum",2025-11-29,,
1764363615850,1764363603942,Joelho,Les√µes do LCA,"HOT TOPICS üî•

1) Diferen√ßas(vantagens e desvantagens) entre cada tipo de enxerto",2025-11-30,,
1764533467862,1764528772802,Joelho,ATJ e Gonartrose,"HOT TOPICS üî•

ATJ
1) Infec√ß√£o

2) A CONTRAINDICA√á√ÉO ABSOLUTA QUE ELES QUEREM: 
  -> DISFUN√á√ÉO DO MECANISMO EXTENSOR.

UNICOMPARTIMENTAL
7 Contraindica√ß√µes 

 OSTEOTOMIAS
6 Contraindica√ß√µes",2025-12-01,,\`;

    const lines = csv.split('\\n').filter(l => l.trim());
    const headers = lines[0].split(',');
    
    const idxId = headers.indexOf('id');
    const idxTemaId = headers.indexOf('temaId');
    const idxArea = headers.indexOf('area');
    const idxTema = headers.indexOf('tema');
    const idxConteudo = headers.indexOf('conteudo');
    const idxData = headers.indexOf('ultimaAtualizacao');
    
    const rows = [];
    for (let i = 1; i < lines.length; i++) {
        const line = lines[i];
        const values = [];
        let current = '';
        let inQuotes = false;
        
        for (let j = 0; j < line.length; j++) {
            const ch = line[j];
            if (ch === '"') {
                if (inQuotes && line[j + 1] === '"') {
                    current += '"';
                    j++;
                } else {
                    inQuotes = !inQuotes;
                }
            } else if (ch === ',' && !inQuotes) {
                values.push(current.trim());
                current = '';
            } else {
                current += ch;
            }
        }
        values.push(current.trim());
        rows.push(values);
    }
    
    const dados = JSON.parse(localStorage.getItem('vrvs_dados') || '[]');
    let anotacoes = JSON.parse(localStorage.getItem('vrvs_anotacoes') || '[]');
    
    let recuperadas = 0;
    rows.forEach((row, i) => {
        try {
            const anotacao = {
                id: row[idxId] || Date.now() + i,
                temaId: String(row[idxTemaId] || ''),
                area: row[idxArea] || '',
                tema: row[idxTema] || '',
                conteudo: row[idxConteudo] || '',
                ultimaAtualizacao: row[idxData] || new Date().toISOString().split('T')[0]
            };
            
            if (anotacao.conteudo.startsWith('"') && anotacao.conteudo.endsWith('"')) {
                anotacao.conteudo = anotacao.conteudo.slice(1, -1);
            }
            
            if (anotacao.temaId && anotacao.temaId.trim() !== '') {
                const temaExiste = dados.find(t => String(t.id) === anotacao.temaId);
                if (!temaExiste && anotacao.tema) {
                    const temaPorNome = dados.find(t => String(t.tema).trim() === String(anotacao.tema).trim());
                    if (temaPorNome) {
                        anotacao.temaId = String(temaPorNome.id);
                    }
                }
            } else if (anotacao.tema) {
                const temaPorNome = dados.find(t => String(t.tema).trim() === String(anotacao.tema).trim());
                if (temaPorNome) {
                    anotacao.temaId = String(temaPorNome.id);
                }
            }
            
            if ((anotacao.conteudo && anotacao.conteudo.trim().length > 0) || (anotacao.temaId && anotacao.temaId.trim() !== '')) {
                const existente = anotacoes.find(a => String(a.temaId) === String(anotacao.temaId) && anotacao.temaId);
                if (existente) {
                    if (anotacao.conteudo && anotacao.conteudo.trim().length > 0) {
                        existente.conteudo = anotacao.conteudo;
                        existente.ultimaAtualizacao = anotacao.ultimaAtualizacao;
                    }
                } else {
                    anotacoes.push(anotacao);
                }
                recuperadas++;
            }
        } catch (e) {
            console.error('Erro na linha ' + (i + 2) + ':', e);
        }
    });
    
    localStorage.setItem('vrvs_anotacoes', JSON.stringify(anotacoes));
    
    console.log('‚úÖ ' + recuperadas + ' anota√ß√µes recuperadas!');
    console.log('üíæ Total de anota√ß√µes salvas: ' + anotacoes.length);
    console.log('üîÑ RECARREGUE A P√ÅGINA AGORA para ver as anota√ß√µes!');
    
    alert('‚úÖ ' + recuperadas + ' anota√ß√µes recuperadas!\\n\\nRecarregue a p√°gina para ver.');
})();`;

        function copiarCodigo() {
            navigator.clipboard.writeText(codigoRecuperacao).then(() => {
                document.getElementById('mensagem').innerHTML = '<div class="sucesso">‚úÖ C√≥digo copiado! Agora v√° para a aba do app VRVS e cole no Console.</div>';
            }).catch(() => {
                // Fallback
                const textarea = document.createElement('textarea');
                textarea.value = codigoRecuperacao;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                document.getElementById('mensagem').innerHTML = '<div class="sucesso">‚úÖ C√≥digo copiado! Agora v√° para a aba do app VRVS e cole no Console.</div>';
            });
        }
    </script>
</body>
</html>

